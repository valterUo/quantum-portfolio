Running job array 3 on pe79.int.triton.aalto.fi
Starting at Fri Mar 21 16:01:40 EET 2025
Activating virtual environment at /scratch/work/uotilav2/quantum-portfolio/venv
Processing batch 4/100: experiments 3 to 3 (total 1)
Processing experiment 3
Budget: 926
YF.download() has changed argument auto_adjust default to True
Number of qubits for asset BA: 3
Number of qubits for asset JNJ: 3
Total number of qubits:  6
Optimized Weights (considering variance, skewness and kurtosis):
BA: 31.67%
JNJ: 68.33%
Left over budget:  31.642211709463822
Optimized Discrete Allocation:
BA: 1
JNJ: 5
Maximized utility from continuous higher moments:  -28.036862961827538
Budget constraint not satisfied 927.88623046875 926 Difference:  -1.88623046875
Budget constraint satisfied 894.3577880859375 926 Difference:  31.6422119140625
smallest_eigenvalues: [-0.4350089790543253]
smallest_bitstrings: ['010001']
first_excited_energy: -0.4345024111616504
optimized_portfolio: [{'BA': 2, 'JNJ': 4}]
second_optimized_portfolio: [{'BA': 1, 'JNJ': 5}]
result_with_budget: [{'portfolio': {'BA': 2, 'JNJ': 4}, 'budget': 927.88623046875, 'difference': -1.88623046875, 'objective_value': -19.36291961166149}]
result_with_budget_excited: [{'portfolio': {'BA': 1, 'JNJ': 5}, 'budget': 894.3577880859375, 'difference': 31.6422119140625, 'objective_value': -28.036862961827538}]
Initial params:  [2.9078476  0.22316636 0.27372477 0.06351797 2.61575239 2.44465153
 2.73322377 3.07442019 2.51063067 1.44978017 2.45210473 0.37157007]
(5_w,11)-aCMA-ES (mu_w=3.4,w_1=42%) in dimension 12 (seed=662578, Fri Mar 21 16:02:00 2025)
Iterat #Fevals   function value  axis ratio  sigma  min&max std  t[m:s]
    1     11 -2.949440251476184e-01 1.0e+00 9.42e-02  9e-02  1e-01 0:02.2
    2     22 -3.040445595533602e-01 1.2e+00 9.24e-02  9e-02  9e-02 0:04.3
    3     33 -3.135062814739501e-01 1.3e+00 8.72e-02  8e-02  9e-02 0:06.4
    5     55 -3.575816036774715e-01 1.5e+00 1.05e-01  1e-01  1e-01 0:10.8
    7     77 -3.594431978951281e-01 1.6e+00 1.16e-01  1e-01  1e-01 0:15.0
   10    110 -3.653094453974488e-01 1.8e+00 1.04e-01  9e-02  1e-01 0:21.4
   13    143 -3.678256456239751e-01 2.0e+00 1.03e-01  9e-02  1e-01 0:27.7
   17    187 -3.727217582814494e-01 2.3e+00 9.74e-02  8e-02  1e-01 0:36.2
   21    231 -3.796087623862816e-01 2.6e+00 9.71e-02  8e-02  1e-01 0:44.7
   26    286 -3.770382801946910e-01 3.0e+00 6.91e-02  6e-02  7e-02 0:55.3
   31    341 -3.851830385418778e-01 3.5e+00 7.41e-02  6e-02  8e-02 1:05.8
   37    407 -3.881155920537970e-01 3.6e+00 6.40e-02  5e-02  7e-02 1:18.5
   43    473 -3.888198739616442e-01 4.0e+00 5.24e-02  4e-02  6e-02 1:31.3
   50    550 -3.914679852488735e-01 4.6e+00 5.07e-02  3e-02  5e-02 1:46.2
   57    627 -3.925434882961977e-01 6.1e+00 6.17e-02  4e-02  8e-02 2:01.0
   65    715 -3.921254803144071e-01 7.0e+00 6.06e-02  3e-02  8e-02 2:17.9
   73    803 -3.935048440559123e-01 7.9e+00 3.14e-02  1e-02  4e-02 2:35.0
   82    902 -3.939723298855983e-01 9.3e+00 3.24e-02  1e-02  4e-02 2:54.1
   91   1001 -3.945111881401024e-01 1.3e+01 3.51e-02  1e-02  5e-02 3:13.0
  100   1100 -3.950346964267519e-01 1.6e+01 4.46e-02  2e-02  7e-02 3:32.1
  110   1210 -3.955725697052730e-01 1.8e+01 4.83e-02  2e-02  7e-02 3:53.1
  120   1320 -3.962386317990708e-01 1.9e+01 5.50e-02  2e-02  8e-02 4:14.3
  131   1441 -3.983846356549774e-01 2.5e+01 7.79e-02  2e-02  1e-01 4:37.6
  142   1562 -4.018156048516623e-01 3.7e+01 1.22e-01  3e-02  3e-01 5:01.1
  154   1694 -4.037651002512861e-01 3.6e+01 1.21e-01  2e-02  3e-01 5:26.4
  166   1826 -4.055162931785709e-01 3.9e+01 9.60e-02  1e-02  2e-01 5:51.6
  179   1969 -4.066403567035149e-01 3.7e+01 6.57e-02  9e-03  1e-01 6:19.0
  192   2112 -4.080041118509203e-01 3.9e+01 1.35e-01  2e-02  3e-01 6:46.4
  200   2200 -4.097325527067590e-01 4.0e+01 1.49e-01  2e-02  4e-01 7:03.5
  214   2354 -4.122802919332947e-01 4.2e+01 1.60e-01  2e-02  4e-01 7:33.2
  229   2519 -4.140734923551773e-01 4.3e+01 1.49e-01  1e-02  4e-01 8:04.8
  244   2684 -4.140169358577067e-01 4.6e+01 9.96e-02  7e-03  2e-01 8:36.4
  260   2860 -4.151145977819575e-01 4.9e+01 8.58e-02  6e-03  2e-01 9:10.2
  276   3036 -4.160430824415656e-01 6.1e+01 8.39e-02  5e-03  2e-01 9:44.3
  293   3223 -4.170233038326852e-01 9.3e+01 1.26e-01  7e-03  4e-01 10:20.2
  300   3300 -4.176071274400560e-01 1.0e+02 1.64e-01  9e-03  5e-01 10:34.9
  317   3487 -4.187318989903923e-01 8.9e+01 1.29e-01  6e-03  3e-01 11:11.6
  335   3685 -4.193793914919569e-01 9.2e+01 9.08e-02  4e-03  2e-01 11:49.9
  353   3883 -4.198790900085246e-01 9.4e+01 1.11e-01  5e-03  2e-01 12:28.0
  372   4092 -4.201930566832921e-01 9.2e+01 1.05e-01  4e-03  2e-01 13:08.1
  391   4301 -4.203777312243565e-01 1.2e+02 8.42e-02  3e-03  2e-01 13:48.2
  400   4400 -4.203833551991724e-01 1.1e+02 5.31e-02  2e-03  1e-01 14:07.3
  420   4620 -4.204015471558836e-01 1.3e+02 2.52e-02  6e-04  5e-02 14:49.5
  441   4851 -4.204047664798271e-01 1.5e+02 6.76e-03  1e-04  1e-02 15:34.3
  462   5082 -4.204049501556897e-01 1.4e+02 2.33e-03  5e-05  4e-03 16:18.5
  484   5324 -4.204049860536939e-01 1.5e+02 1.08e-03  2e-05  2e-03 17:04.8
  500   5500 -4.204049883353727e-01 1.7e+02 5.85e-04  8e-06  8e-04 17:38.8
  523   5753 -4.204049885475544e-01 2.0e+02 1.49e-04  2e-06  2e-04 18:27.2
  546   6006 -4.204049885549003e-01 2.0e+02 4.40e-05  5e-07  4e-05 19:15.9
  570   6270 -4.204049885568892e-01 2.0e+02 1.95e-05  2e-07  2e-05 20:06.3
  577   6347 -4.204049885571313e-01 2.2e+02 1.28e-05  1e-07  1e-05 20:21.4
Budget constraint satisfied 851.4715576171875 926 Difference:  74.5284423828125
Budget constraint not satisfied 961.4146728515625 926 Difference:  -35.4146728515625
two_most_probable_states: ['001100', '110110']
final_expectation_value: -0.42040498855714203
params: [2.05833749022535, 4.661619523664631, 7.6473006815424, -0.3377552036106353, 10.288634100577516, 10.730934417266068, 2.7144558481271646, 2.9273528220480265, 3.8184142175853384, 2.3002187832297563, 3.055638646879052, -0.055695218380480326]
total_steps: 577
states_probs: [0.06334366556050228, 0.06463266668031722]
optimized_portfolios: [{'BA': 4, 'JNJ': 1}, {'BA': 3, 'JNJ': 3}]
objective_values: [-22.865186801450466, -21.015454432180174]
result_with_budget: [{'portfolio': {'BA': 4, 'JNJ': 1}, 'budget': 851.4715576171875, 'difference': 74.5284423828125}, {'portfolio': {'BA': 3, 'JNJ': 3}, 'budget': 961.4146728515625, 'difference': -35.4146728515625}]
Batch 4/100 completed. Results saved to portfolio_optimization_results_batch_3.json
Job finished at Fri Mar 21 16:22:48 EET 2025
