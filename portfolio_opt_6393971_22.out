Running job array 22 on csl45.int.triton.aalto.fi
Starting at Sat Mar 22 10:18:48 EET 2025
Activating virtual environment at /scratch/work/uotilav2/quantum-portfolio/venv
Processing batch 23/100: experiments 22 to 22 (total 1)
Processing experiment 22
Budget: 5324
YF.download() has changed argument auto_adjust default to True
Number of qubits for asset CRM: 4
Number of qubits for asset MSFT: 4
Total number of qubits:  8
Optimized Weights (considering variance, skewness and kurtosis):
CRM: 0.00%
MSFT: 100.00%
Left over budget:  276.1217032674458
Optimized Discrete Allocation:
MSFT: 12
Maximized utility from continuous higher moments:  -668.7615394884981
Budget constraint satisfied 5295.881744384766 5324 Difference:  28.118255615234375
Budget constraint not satisfied 5360.255950927734 5324 Difference:  -36.255950927734375
smallest_eigenvalues: [-0.5465993034707257]
smallest_bitstrings: ['01001101']
first_excited_energy: -0.5465879904623407
optimized_portfolio: [{'CRM': 2, 'MSFT': 11}]
second_optimized_portfolio: [{'CRM': 11, 'MSFT': 4}]
result_with_budget: [{'portfolio': {'CRM': 2, 'MSFT': 11}, 'budget': 5295.881744384766, 'difference': 28.118255615234375, 'objective_value': -631.2580148879904}]
result_with_budget_excited: [{'portfolio': {'CRM': 11, 'MSFT': 4}, 'budget': 5360.255950927734, 'difference': -36.255950927734375, 'objective_value': -1269.0009257473428}]
Initial params:  [2.61575239 2.44465153 2.73322377 3.07442019 2.51063067 1.44978017
 2.45210473 0.37157007 2.01037118 0.45035763 2.96776493 1.63943485
 1.3026989  0.83112597 2.43232687 1.43303853]
(6_w,12)-aCMA-ES (mu_w=3.7,w_1=40%) in dimension 16 (seed=778751, Sat Mar 22 10:19:02 2025)
Iterat #Fevals   function value  axis ratio  sigma  min&max std  t[m:s]
    1     12 -3.538887201826944e-01 1.0e+00 9.54e-02  9e-02  1e-01 0:06.0
    2     24 -3.702154539814918e-01 1.1e+00 8.74e-02  8e-02  9e-02 0:12.2
    3     36 -3.914923068826119e-01 1.2e+00 8.73e-02  8e-02  9e-02 0:18.2
    4     48 -4.195398510137659e-01 1.2e+00 9.07e-02  9e-02  9e-02 0:24.3
    5     60 -4.398870818379055e-01 1.3e+00 9.30e-02  9e-02  1e-01 0:31.2
    6     72 -4.477090819390062e-01 1.3e+00 9.95e-02  9e-02  1e-01 0:38.5
    7     84 -4.413078658404829e-01 1.4e+00 1.05e-01  1e-01  1e-01 0:45.9
    8     96 -4.506239804192793e-01 1.5e+00 1.07e-01  1e-01  1e-01 0:53.2
   10    120 -4.763740094198420e-01 1.7e+00 1.22e-01  1e-01  1e-01 1:07.9
   12    144 -4.603884296377608e-01 1.9e+00 1.16e-01  1e-01  1e-01 1:22.6
   14    168 -5.012496679763475e-01 2.0e+00 1.21e-01  1e-01  1e-01 1:37.3
   16    192 -4.829960198264343e-01 2.1e+00 1.29e-01  1e-01  1e-01 1:52.0
   18    216 -4.956919924866749e-01 2.1e+00 1.44e-01  1e-01  2e-01 2:06.7
   20    240 -4.946523247414884e-01 2.0e+00 1.41e-01  1e-01  2e-01 2:21.4
   22    264 -5.020244070234128e-01 2.0e+00 1.32e-01  1e-01  1e-01 2:36.1
   25    300 -4.842960499723429e-01 2.2e+00 1.18e-01  1e-01  1e-01 2:58.2
   28    336 -5.029035860387107e-01 2.3e+00 1.14e-01  1e-01  1e-01 3:20.2
   31    372 -5.107880702516908e-01 2.4e+00 1.26e-01  1e-01  1e-01 3:42.3
   34    408 -5.103682281646692e-01 2.6e+00 1.23e-01  1e-01  1e-01 4:04.4
   37    444 -5.073072384601558e-01 2.8e+00 1.28e-01  1e-01  1e-01 4:26.5
   40    480 -5.026990295782936e-01 2.8e+00 1.23e-01  1e-01  1e-01 4:48.5
   43    516 -5.033238222996560e-01 2.9e+00 1.23e-01  1e-01  1e-01 5:10.5
   46    552 -4.975010970483082e-01 3.0e+00 1.40e-01  1e-01  2e-01 5:32.7
   50    600 -5.086789043642792e-01 3.2e+00 1.17e-01  1e-01  1e-01 6:02.1
   54    648 -5.064610979273327e-01 3.4e+00 1.02e-01  9e-02  1e-01 6:31.5
   58    696 -5.126663688936012e-01 3.6e+00 9.64e-02  8e-02  1e-01 7:00.9
   62    744 -5.128918859696385e-01 3.8e+00 7.89e-02  7e-02  9e-02 7:30.3
   66    792 -5.144669934469921e-01 4.0e+00 7.26e-02  6e-02  9e-02 7:59.7
   70    840 -5.165560906445169e-01 4.2e+00 6.16e-02  5e-02  8e-02 8:29.1
   74    888 -5.173383393080287e-01 4.6e+00 5.86e-02  5e-02  7e-02 8:58.5
   79    948 -5.171395028835969e-01 5.0e+00 5.20e-02  4e-02  7e-02 9:35.2
   84   1008 -5.172965216821471e-01 5.2e+00 5.23e-02  4e-02  7e-02 10:12.0
   89   1068 -5.175809057166580e-01 5.7e+00 4.57e-02  4e-02  6e-02 10:48.8
   94   1128 -5.176839079881488e-01 6.4e+00 4.36e-02  3e-02  6e-02 11:25.4
   99   1188 -5.184202222524242e-01 6.6e+00 3.95e-02  3e-02  6e-02 12:02.1
  100   1200 -5.183326978686718e-01 6.7e+00 4.03e-02  3e-02  6e-02 12:09.4
  105   1260 -5.186743767977285e-01 7.4e+00 3.79e-02  3e-02  5e-02 12:46.1
  111   1332 -5.191075947241944e-01 8.9e+00 3.19e-02  2e-02  5e-02 13:30.2
  117   1404 -5.195665422802208e-01 9.7e+00 3.32e-02  2e-02  5e-02 14:14.1
  123   1476 -5.200858060098316e-01 1.2e+01 3.33e-02  2e-02  5e-02 14:58.1
  129   1548 -5.202208549128325e-01 1.5e+01 3.67e-02  2e-02  7e-02 15:42.1
  135   1620 -5.210454861704993e-01 1.7e+01 4.24e-02  3e-02  9e-02 16:26.1
  141   1692 -5.218438090272395e-01 2.1e+01 5.22e-02  3e-02  1e-01 17:10.0
  147   1764 -5.226129382165940e-01 2.6e+01 5.43e-02  3e-02  1e-01 17:54.0
  154   1848 -5.232027367384958e-01 3.1e+01 8.76e-02  5e-02  3e-01 18:44.6
  161   1932 -5.243449780646849e-01 3.6e+01 8.82e-02  5e-02  3e-01 19:34.7
  168   2016 -5.245973609864544e-01 3.8e+01 6.81e-02  4e-02  2e-01 20:24.9
  175   2100 -5.251110360916699e-01 4.2e+01 6.03e-02  3e-02  2e-01 21:15.1
  182   2184 -5.256451633149973e-01 4.5e+01 4.80e-02  2e-02  2e-01 22:05.1
  189   2268 -5.256325361229782e-01 5.0e+01 4.01e-02  2e-02  1e-01 22:55.4
  196   2352 -5.257915301090017e-01 5.4e+01 2.95e-02  1e-02  1e-01 23:45.4
  200   2400 -5.260101670378947e-01 5.6e+01 3.29e-02  1e-02  1e-01 24:14.1
  208   2496 -5.263099130673587e-01 6.0e+01 3.90e-02  2e-02  1e-01 25:11.5
  216   2592 -5.267009894963595e-01 7.3e+01 3.82e-02  2e-02  2e-01 26:08.8
  224   2688 -5.276899857698809e-01 7.7e+01 4.95e-02  2e-02  2e-01 27:06.2
  232   2784 -5.279752844085470e-01 8.0e+01 5.54e-02  2e-02  2e-01 28:03.5
  240   2880 -5.282463990265134e-01 8.6e+01 5.01e-02  2e-02  2e-01 29:00.9
  248   2976 -5.287353286404292e-01 8.7e+01 4.74e-02  2e-02  2e-01 29:58.2
  257   3084 -5.288051061671772e-01 9.1e+01 3.75e-02  1e-02  2e-01 31:02.5
  266   3192 -5.289241278410119e-01 9.3e+01 3.31e-02  1e-02  1e-01 32:06.9
  275   3300 -5.289930986061457e-01 9.7e+01 2.31e-02  8e-03  1e-01 33:11.3
  284   3408 -5.289861040361711e-01 9.7e+01 2.40e-02  8e-03  1e-01 34:15.7
  293   3516 -5.290469946817832e-01 9.9e+01 1.88e-02  6e-03  8e-02 35:20.2
  300   3600 -5.290770792147952e-01 1.0e+02 1.79e-02  5e-03  8e-02 36:10.2
  309   3708 -5.291526562132657e-01 1.0e+02 2.11e-02  5e-03  9e-02 37:14.7
  319   3828 -5.292122332627697e-01 1.0e+02 2.83e-02  7e-03  1e-01 38:26.3
  329   3948 -5.293294074500672e-01 1.0e+02 3.73e-02  9e-03  2e-01 39:37.9
  339   4068 -5.295003421318597e-01 1.1e+02 3.98e-02  9e-03  2e-01 40:49.4
  349   4188 -5.297639929398854e-01 1.1e+02 5.89e-02  1e-02  2e-01 42:01.1
  359   4308 -5.300695085621352e-01 1.2e+02 5.88e-02  1e-02  2e-01 43:12.5
  369   4428 -5.303844328825766e-01 1.4e+02 4.39e-02  8e-03  2e-01 44:24.1
  379   4548 -5.305109548480306e-01 1.5e+02 4.68e-02  7e-03  2e-01 45:35.9
  390   4680 -5.308108549668222e-01 1.7e+02 4.37e-02  6e-03  2e-01 46:55.1
  400   4800 -5.309554813514421e-01 2.1e+02 4.88e-02  6e-03  3e-01 48:06.1
  411   4932 -5.310910017230709e-01 2.4e+02 4.53e-02  5e-03  3e-01 49:24.1
  422   5064 -5.311240813122918e-01 2.4e+02 2.63e-02  3e-03  2e-01 50:42.2
  433   5196 -5.311919293111927e-01 2.5e+02 1.98e-02  2e-03  1e-01 52:00.4
  444   5328 -5.312578185810730e-01 2.5e+02 1.88e-02  2e-03  1e-01 53:18.2
  455   5460 -5.312741200208861e-01 2.7e+02 4.08e-02  3e-03  3e-01 54:36.3
  467   5604 -5.314308617081566e-01 2.7e+02 5.67e-02  5e-03  4e-01 56:01.4
  479   5748 -5.315661163646189e-01 3.0e+02 4.19e-02  3e-03  3e-01 57:26.3
  491   5892 -5.316933326820930e-01 2.9e+02 4.03e-02  3e-03  3e-01 58:51.4
  500   6000 -5.318756588375388e-01 3.3e+02 5.54e-02  4e-03  4e-01 59:52.3
  514   6168 -5.320154743741944e-01 3.4e+02 8.58e-02  5e-03  6e-01 61:18.2
  528   6336 -5.321853958157841e-01 3.3e+02 6.06e-02  3e-03  4e-01 62:42.6
  543   6516 -5.322181041736498e-01 3.2e+02 3.03e-02  1e-03  2e-01 64:13.0
  558   6696 -5.322462412851371e-01 3.3e+02 3.04e-02  1e-03  2e-01 65:43.5
  573   6876 -5.322610288633277e-01 3.5e+02 2.55e-02  1e-03  2e-01 67:13.9
  588   7056 -5.322781913902646e-01 3.3e+02 3.92e-02  1e-03  2e-01 68:44.5
  600   7200 -5.322968283767585e-01 3.1e+02 2.91e-02  1e-03  2e-01 69:57.3
  615   7380 -5.323229423142053e-01 2.9e+02 2.77e-02  9e-04  1e-01 71:28.0
  631   7572 -5.323365489573201e-01 2.9e+02 3.40e-02  1e-03  1e-01 73:04.7
  647   7764 -5.323542655687912e-01 3.0e+02 3.87e-02  1e-03  2e-01 74:40.8
  663   7956 -5.324053289062481e-01 3.3e+02 8.46e-02  2e-03  4e-01 76:16.7
  679   8148 -5.325144411532402e-01 3.6e+02 1.19e-01  3e-03  5e-01 77:52.2
  695   8340 -5.325639685730708e-01 3.6e+02 6.97e-02  1e-03  3e-01 79:28.3
  700   8400 -5.325622196401028e-01 3.6e+02 6.14e-02  1e-03  3e-01 79:58.2
  717   8604 -5.325800565995975e-01 3.7e+02 2.80e-02  5e-04  1e-01 81:40.0
  734   8808 -5.325866047362077e-01 3.6e+02 2.34e-02  4e-04  8e-02 83:21.5
  751   9012 -5.325918192867940e-01 3.6e+02 2.49e-02  4e-04  9e-02 85:03.3
  768   9216 -5.325950259309170e-01 4.1e+02 2.04e-02  3e-04  8e-02 86:45.3
  785   9420 -5.325964672491615e-01 4.2e+02 1.18e-02  2e-04  4e-02 88:27.0
  800   9600 -5.325967661883658e-01 4.4e+02 5.66e-03  7e-05  2e-02 89:57.0
  818   9816 -5.325968064302026e-01 4.1e+02 2.60e-03  3e-05  8e-03 91:44.8
  836  10032 -5.325968174272164e-01 4.5e+02 1.21e-03  1e-05  4e-03 93:32.6
  854  10248 -5.325968210060256e-01 4.4e+02 9.17e-04  1e-05  3e-03 95:20.4
  872  10464 -5.325968232210563e-01 4.3e+02 6.71e-04  7e-06  2e-03 97:08.0
  890  10680 -5.325968235254146e-01 4.0e+02 4.12e-04  4e-06  1e-03 98:56.1
  900  10800 -5.325968236987206e-01 3.8e+02 2.33e-04  2e-06  6e-04 99:55.8
  919  11028 -5.325968237339075e-01 4.3e+02 1.05e-04  9e-07  3e-04 101:48.8
  938  11256 -5.325968237372263e-01 4.2e+02 4.77e-05  4e-07  1e-04 103:42.0
  957  11484 -5.325968237392161e-01 4.2e+02 1.58e-05  1e-07  3e-05 105:35.5
  967  11604 -5.325968237392489e-01 4.4e+02 8.57e-06  6e-08  2e-05 106:35.0
Budget constraint not satisfied 6039.89208984375 5324 Difference:  -715.89208984375
Budget constraint satisfied 5284.905578613281 5324 Difference:  39.09442138671875
two_most_probable_states: ['00010001', '11101110']
final_expectation_value: -0.5325968237392554
params: [-3.1866864226182243, 4.263348125037522, 5.468109367012278, 8.219498902876273, 9.999682512346732, 11.319896107087411, 13.209778302945496, 14.38882871342263, 1.8004051018840135, 1.49272586928757, 2.990421425918584, 1.4810111187486428, 1.5041925722747138, -0.04819904479191827, 3.0985135055472384, 1.5384187224377737]
total_steps: 967
states_probs: [0.024564022889668174, 0.025365648888132464]
optimized_portfolios: [{'CRM': 8, 'MSFT': 8}, {'CRM': 7, 'MSFT': 7}]
objective_values: [-967.6302012434209, -566.9377962448426]
result_with_budget: [{'portfolio': {'CRM': 8, 'MSFT': 8}, 'budget': 6039.89208984375, 'difference': -715.89208984375}, {'portfolio': {'CRM': 7, 'MSFT': 7}, 'budget': 5284.905578613281, 'difference': 39.09442138671875}]
Batch 23/100 completed. Results saved to portfolio_optimization_results_batch_22.json
Job finished at Sat Mar 22 12:06:18 EET 2025
