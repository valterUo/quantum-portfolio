Running job array 86 on csl45.int.triton.aalto.fi
Starting at Sat Mar 22 10:19:31 EET 2025
Activating virtual environment at /scratch/work/uotilav2/quantum-portfolio/venv
Processing batch 87/100: experiments 86 to 86 (total 1)
Processing experiment 86
Budget: 294
YF.download() has changed argument auto_adjust default to True
Number of qubits for asset JPM: 1
Number of qubits for asset KO: 3
Number of qubits for asset TRV: 1
Number of qubits for asset WMT: 2
Total number of qubits:  7
Optimized Weights (considering variance, skewness and kurtosis):
JPM: 60.12%
KO: 0.00%
TRV: 0.00%
WMT: 39.88%
Left over budget:  55.521652207186065
Optimized Discrete Allocation:
JPM: 1
Maximized utility from continuous higher moments:  0.12021855619060401
Budget constraint not satisfied 300.2822608947754 294 Difference:  -6.282260894775391
Budget constraint not satisfied 301.71240615844727 294 Difference:  -7.712406158447266
smallest_eigenvalues: [-0.12325888398582333]
smallest_bitstrings: ['1100000']
first_excited_energy: -0.12323013731553886
optimized_portfolio: [{'JPM': 1, 'KO': 1, 'TRV': 0, 'WMT': 0}]
second_optimized_portfolio: [{'JPM': 0, 'KO': 1, 'TRV': 1, 'WMT': 0}]
result_with_budget: [{'portfolio': {'JPM': 1, 'KO': 1, 'TRV': 0, 'WMT': 0}, 'budget': 300.2822608947754, 'difference': -6.282260894775391, 'objective_value': -0.1411882112831422}]
result_with_budget_excited: [{'portfolio': {'JPM': 0, 'KO': 1, 'TRV': 1, 'WMT': 0}, 'budget': 301.71240615844727, 'difference': -7.712406158447266, 'objective_value': -0.3892025501887}]
Initial params:  [0.27372477 0.06351797 2.61575239 2.44465153 2.73322377 3.07442019
 2.51063067 1.44978017 2.45210473 0.37157007 2.01037118 0.45035763
 2.96776493 1.63943485]
(5_w,11)-aCMA-ES (mu_w=3.4,w_1=42%) in dimension 14 (seed=719153, Sat Mar 22 10:19:33 2025)
Iterat #Fevals   function value  axis ratio  sigma  min&max std  t[m:s]
    1     11 3.112549492308768e-01 1.0e+00 9.98e-02  1e-01  1e-01 0:03.6
    2     22 -6.049348490976054e-02 1.2e+00 1.05e-01  1e-01  1e-01 0:07.2
    3     33 -6.207021194259392e-02 1.3e+00 1.11e-01  1e-01  1e-01 0:10.8
    4     44 -7.463289944076798e-02 1.3e+00 1.15e-01  1e-01  1e-01 0:14.4
    6     66 -9.372119242967052e-02 1.5e+00 1.16e-01  1e-01  1e-01 0:21.7
    8     88 -9.452077482013121e-02 1.5e+00 1.12e-01  1e-01  1e-01 0:28.9
   10    110 -9.880143332032683e-02 1.6e+00 1.05e-01  1e-01  1e-01 0:36.2
   12    132 -8.744418946887159e-02 1.6e+00 9.89e-02  9e-02  1e-01 0:43.4
   15    165 -9.806238793002087e-02 1.6e+00 8.59e-02  8e-02  1e-01 0:54.3
   18    198 -1.000509899534619e-01 1.6e+00 9.64e-02  9e-02  1e-01 1:05.1
   21    231 -1.000813460110501e-01 1.7e+00 9.61e-02  8e-02  1e-01 1:16.0
   25    275 -9.894224676142628e-02 1.9e+00 9.00e-02  7e-02  1e-01 1:30.5
   29    319 -1.050923599191660e-01 2.0e+00 8.61e-02  7e-02  9e-02 1:45.0
   33    363 -1.053303105346610e-01 2.1e+00 7.66e-02  6e-02  8e-02 1:59.6
   37    407 -1.066789465987829e-01 2.3e+00 6.81e-02  5e-02  8e-02 2:14.1
   42    462 -1.073719841997676e-01 2.8e+00 6.79e-02  5e-02  8e-02 2:32.2
   47    517 -1.069959378664275e-01 3.1e+00 7.11e-02  5e-02  8e-02 2:50.4
   52    572 -1.073500726660505e-01 3.3e+00 5.95e-02  4e-02  7e-02 3:08.5
   57    627 -1.077435791095799e-01 3.6e+00 5.55e-02  3e-02  6e-02 3:26.7
   63    693 -1.078664673576369e-01 4.0e+00 4.39e-02  3e-02  5e-02 3:48.4
   69    759 -1.079755488157465e-01 4.6e+00 3.50e-02  2e-02  4e-02 4:10.2
   75    825 -1.082781087277369e-01 5.2e+00 3.24e-02  2e-02  4e-02 4:32.0
   82    902 -1.085273951159073e-01 5.7e+00 2.80e-02  1e-02  4e-02 4:57.4
   89    979 -1.086083815960078e-01 6.4e+00 1.89e-02  9e-03  2e-02 5:22.8
   96   1056 -1.086914929932523e-01 7.7e+00 1.89e-02  9e-03  2e-02 5:48.1
  100   1100 -1.087308749272759e-01 8.1e+00 1.90e-02  9e-03  2e-02 6:02.6
  108   1188 -1.088401716332662e-01 9.3e+00 1.97e-02  9e-03  2e-02 6:31.5
  116   1276 -1.088921592046067e-01 1.1e+01 1.66e-02  7e-03  2e-02 7:00.5
  124   1364 -1.089215147394545e-01 1.5e+01 1.60e-02  6e-03  2e-02 7:29.4
  133   1463 -1.089661761876824e-01 1.6e+01 1.22e-02  4e-03  2e-02 8:02.0
  142   1562 -1.090375470722591e-01 2.1e+01 1.75e-02  6e-03  3e-02 8:34.6
  151   1661 -1.090573425457947e-01 2.2e+01 2.28e-02  7e-03  4e-02 9:07.3
  160   1760 -1.090858808539536e-01 2.6e+01 1.97e-02  6e-03  3e-02 9:39.8
  170   1870 -1.091159237464077e-01 2.7e+01 1.55e-02  4e-03  2e-02 10:16.1
  180   1980 -1.091328376198413e-01 3.2e+01 1.73e-02  4e-03  3e-02 10:52.3
  190   2090 -1.091538194452970e-01 3.3e+01 1.82e-02  4e-03  3e-02 11:28.6
  200   2200 -1.091713335328600e-01 3.5e+01 1.76e-02  4e-03  3e-02 12:04.8
  211   2321 -1.091829671275784e-01 4.4e+01 1.52e-02  3e-03  3e-02 12:44.6
  222   2442 -1.091863955354621e-01 5.4e+01 1.08e-02  2e-03  2e-02 13:24.5
  233   2563 -1.091882892896322e-01 6.0e+01 1.38e-02  2e-03  3e-02 14:04.3
  245   2695 -1.091913879397467e-01 5.7e+01 8.09e-03  1e-03  2e-02 14:47.7
  257   2827 -1.091964391742720e-01 6.1e+01 1.16e-02  2e-03  2e-02 15:31.3
  269   2959 -1.092021173333433e-01 6.7e+01 1.47e-02  2e-03  3e-02 16:14.7
  281   3091 -1.092052975529221e-01 7.4e+01 1.28e-02  2e-03  2e-02 16:58.2
  294   3234 -1.092106359036288e-01 7.0e+01 1.00e-02  2e-03  2e-02 17:45.2
  300   3300 -1.092136624338041e-01 7.3e+01 1.23e-02  2e-03  2e-02 18:06.9
  313   3443 -1.092196527938594e-01 8.1e+01 1.47e-02  2e-03  3e-02 18:54.0
  326   3586 -1.092316008884684e-01 9.1e+01 1.76e-02  2e-03  3e-02 19:41.1
  340   3740 -1.092420510001049e-01 1.0e+02 1.34e-02  2e-03  3e-02 20:31.7
  354   3894 -1.092519858355812e-01 1.3e+02 1.97e-02  2e-03  5e-02 21:22.4
  368   4048 -1.092589975070704e-01 1.4e+02 1.73e-02  2e-03  5e-02 22:13.1
  383   4213 -1.092642134631936e-01 1.5e+02 1.51e-02  1e-03  4e-02 23:07.4
  398   4378 -1.092712505189945e-01 1.5e+02 1.41e-02  1e-03  3e-02 24:01.7
  400   4400 -1.092721339655006e-01 1.5e+02 1.56e-02  1e-03  4e-02 24:08.9
  415   4565 -1.092923592186133e-01 1.7e+02 2.55e-02  2e-03  7e-02 25:03.2
  431   4741 -1.093606342809495e-01 2.0e+02 4.42e-02  4e-03  1e-01 26:01.1
  447   4917 -1.094233456366334e-01 1.5e+02 4.11e-02  3e-03  9e-02 26:59.0
  463   5093 -1.095095360004817e-01 1.5e+02 2.83e-02  2e-03  6e-02 27:57.0
  480   5280 -1.095638149456112e-01 1.5e+02 4.14e-02  3e-03  9e-02 28:58.5
  497   5467 -1.096001648290415e-01 1.6e+02 2.32e-02  1e-03  5e-02 30:00.0
  500   5500 -1.096018373476558e-01 1.6e+02 2.04e-02  1e-03  4e-02 30:10.9
  517   5687 -1.096077505912339e-01 1.8e+02 1.26e-02  8e-04  2e-02 31:12.3
  535   5885 -1.096101433914391e-01 1.8e+02 9.93e-03  6e-04  2e-02 32:17.4
  553   6083 -1.096113588894011e-01 1.7e+02 8.14e-03  4e-04  1e-02 33:22.4
  571   6281 -1.096127242066666e-01 1.8e+02 1.02e-02  5e-04  2e-02 34:27.3
  590   6490 -1.096145359190098e-01 2.3e+02 1.24e-02  5e-04  2e-02 35:34.2
  600   6600 -1.096148184265337e-01 2.6e+02 1.61e-02  6e-04  3e-02 36:09.3
  620   6820 -1.096161162851465e-01 3.0e+02 9.27e-03  3e-04  2e-02 37:19.6
  640   7040 -1.096173647299305e-01 2.7e+02 1.26e-02  4e-04  2e-02 38:29.8
  660   7260 -1.096187813398025e-01 3.5e+02 1.15e-02  3e-04  3e-02 39:40.2
  680   7480 -1.096219121696704e-01 4.5e+02 2.77e-02  7e-04  7e-02 40:50.4
  700   7700 -1.096235998164115e-01 4.1e+02 2.78e-02  6e-04  7e-02 42:00.6
  721   7931 -1.096257438410998e-01 3.7e+02 1.99e-02  4e-04  4e-02 43:14.4
  742   8162 -1.096288114046668e-01 3.7e+02 3.82e-02  9e-04  8e-02 44:28.3
  763   8393 -1.096309390908056e-01 3.7e+02 2.06e-02  5e-04  4e-02 45:42.3
  785   8635 -1.096324931672985e-01 4.1e+02 1.69e-02  4e-04  3e-02 46:59.3
  800   8800 -1.096336712955148e-01 4.5e+02 2.85e-02  7e-04  5e-02 47:51.7
  823   9053 -1.096348055508384e-01 4.2e+02 1.99e-02  4e-04  4e-02 49:11.8
  846   9306 -1.096361142589533e-01 5.8e+02 2.95e-02  7e-04  7e-02 50:32.1
  869   9559 -1.096372149225332e-01 7.2e+02 2.21e-02  7e-04  6e-02 51:52.2
  892   9812 -1.096376627729247e-01 7.0e+02 1.93e-02  6e-04  5e-02 53:12.4
  900   9900 -1.096377705600601e-01 7.3e+02 1.49e-02  5e-04  4e-02 53:40.2
  924  10164 -1.096378553942305e-01 7.3e+02 6.01e-03  2e-04  1e-02 55:03.8
  948  10428 -1.096379157111153e-01 9.6e+02 8.42e-03  3e-04  2e-02 56:27.3
  973  10703 -1.096379627391944e-01 8.9e+02 7.80e-03  2e-04  2e-02 57:54.3
  999  10989 -1.096381334411398e-01 9.2e+02 2.28e-02  6e-04  5e-02 59:20.9
 1000  11000 -1.096381577365998e-01 9.4e+02 2.34e-02  6e-04  5e-02 59:24.1
Budget constraint satisfied 239.9084930419922 294 Difference:  54.09150695800781
Budget constraint satisfied 247.2156524658203 294 Difference:  46.78434753417969
two_most_probable_states: ['0000100', '0001000']
final_expectation_value: -0.10963815773659981
params: [2.2318938340479457, 2.6673570291364355, 0.6628329424856068, 4.808271196684777, 3.465579656640458, 3.8096379145663986, 3.539940023952287, 2.4129846640529613, 2.1605816390953416, -0.2916524137032964, 2.314119427726064, 0.9728005839950034, 3.2083222157265157, 1.7255732874060266]
total_steps: 1000
states_probs: [0.09111203117328864, 0.09120447425524913]
optimized_portfolios: [{'JPM': 0, 'KO': 0, 'TRV': 1, 'WMT': 0}, {'JPM': 0, 'KO': 4, 'TRV': 0, 'WMT': 0}]
objective_values: [-0.014776051988282898, -11.3331932998669]
result_with_budget: [{'portfolio': {'JPM': 0, 'KO': 0, 'TRV': 1, 'WMT': 0}, 'budget': 239.9084930419922, 'difference': 54.09150695800781}, {'portfolio': {'JPM': 0, 'KO': 4, 'TRV': 0, 'WMT': 0}, 'budget': 247.2156524658203, 'difference': 46.78434753417969}]
Batch 87/100 completed. Results saved to portfolio_optimization_results_batch_86.json
Job finished at Sat Mar 22 11:19:29 EET 2025
